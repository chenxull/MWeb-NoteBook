# 第一章

## 1 对象模型
自底向上的抽象，自顶向下的分解

## 2 核心思想和概念


面向对象的开发，开发者主要的任务就是先**建立模拟问题领域的对象模型，然后通过程序代码来实现对象模型**

### 2.1 问题领域，对象，属性，状态，行为，方法，实现

- 万物皆可对象
- 每个对象都是唯一的

- 对象具有属性和行为
    在建立对象模型阶段，仅仅关注对象有什么样的功能，不考虑如何实现这些功能。

- 对象具有状态
- 对象都属于某个类，每个对象都是某个类的实例

### 2.2 消息，服务

对象提供的服务是由对象的方法来实现的，发送消息就是调用一个对象的方法。

### 2.3 接口
对象通过接口对外提供服务。接口：**系统对外提供的所有服务**，但是不包括实现细节。

对象是最小的系统，每个对象都是服务提供者，因此每个对象都有接口。**接口是提高系统之间松耦合的有力手段。**不同系统之间通过接口进行通信。



在 java 中，接口有二种意思：
- 概念性的接口，系统对外提供的所有服务，在对象中表现为 public 类型的方法声明
- interface 关键字定义的接口，接口类，用于明确描述系统对外提供的所有服务。

### 2.4 封装，透明

封装：隐藏对象的属性和实现细节，仅仅对外公开接口。java 使用**访问控制机制来进行分装的：**
- public 对外公开，访问级别最高
- protected：只对同一个包中的类或子类公开
- 默认：只对同一个包中的类公开
- private：不对外公开，只能在对象内部访问

### 2.5 抽象
抽象体现在一下方面：
![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6oglfnd9vj30wg0i442o.jpg)


- 从问题领域的事务到软件模型中对象的抽象
- 从对象到类的抽象
- 从子类到父类的抽象

二个意思：
- 当抽象作为动词时，指上述抽象思维过程
- 作为形容器时，用来修饰类和方法。当一个方法被 abstract 修饰时，表名这个方法没有具体的实现；当个一个类被 abstract 修饰时，表名这个类不能被实例化。

### 2.6 继承，扩展，覆盖
子类继承父类，同时还可扩展父类

### 2.7 组合
多个类组合在一起，形成复杂系统


### 2.8 多态，动态绑定

多态是指当系统 A 访问系统 B 的服务时，系统 B 可以通过多种实现方式来提供服务，而这一切对系统 A 是透明的。
> 抽象机制是开发人员在开发过程中使用的机制；动态绑定机制是 java 虚拟机运行时提供的机制



## 3 UML 语言
- 用例图 ：用户功能
- 类框图：对象模型中类之间的关系
- 状态转换图 ：对象所有可能的状态，以及导致状态转移的转移条件
- 时序图 和协作图：对象之间的交互关系。时序图强调**对象之间消息发送的时间顺序，同时显示对象之间的交互**；协作图显示对象之间的协作关系
- 组件图：描述系统中的各个软件组件之间的依赖关系
- 部署图

### 类框图
- 类：矩形表示，上层表类名，中层表示属性，下层表示方法；抽象类，方法用斜体
- 关系：关联，依赖，聚集，泛化和实现

## 4 类之间的关系

- 关联：A B 的实例之间存在特定的对应关系
- 依赖：A 访问 B 提供的服务
- 聚集： A 为整体类，类 B 为局部类，A 的对象由类 B 的对象组合而成
- 泛化：类 A 继承 类 B
- 实现：类 A 实现了 B 接口


### 4.1 关联

- 一对一关联
- 一对多关联
- 多对多关联

类之间的关系其实是指**类的对象之间的关系**。如果类 A 和 类 B 关联，那么 A 中会包含 B 类型的属性。例如在 order 类中定义了 customer 类型的属性：
![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6oik1x7pxj31780g4ako.jpg)

关联分为单向关联和双向关联

### 4.2 依赖
类之间的调用关系；**如果类 A 访问类 B 的属性或方法，或者 A 负责实例化类 B。**那么就可以说 A 依赖 B。 与依赖关系不同，无需在 A 中定义 B 类型的属性

### 4.3 聚集
整体与部分之间的关系。台灯与灯泡之间的关系。

父类中包含子类型的成员变量。

- 普通聚类：台灯和灯泡
- 强聚类：台灯和电源线路

### 4.4 泛化
类之间的继承关系

### 4.5 实现

类与接口之间的关系

### 4.6 区分依赖，关联，聚集关系

1. 依赖关系特征：当一个系统负责构造另一个系统的实例，或依赖另一个系统的服务时，二个系统之间主要体现为依赖关系
2. 关联关系的特征：当一个系统的实例与另一个系统的一些特定实例存在固定的关系时。客户和订单，每个订单对应特定的客户，每个客户对应一些特定订单。
3. 聚集关系特征：组成部分，整体的生命周期依赖于整体类的对象的声明周期。