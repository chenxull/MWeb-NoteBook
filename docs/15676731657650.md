# 第三章 数据类型和变量

数据类型分为：基本类型和引用类型

![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6oqs448vvj30yc0lkgr9.jpg)

## 1 基本数据类型
### 1.1 boolean 类型
不允许把整数或 null 赋值给 boolean 类型的变量。
### 1.2 byte short int long 
都是整数类型，并且都是**有符号整数。**

### 1.3 char 类型与字符编码

采用 unicode 编码，跨平台字符编码。 采用 2 字节(16位)

#### utf
有些 os 不完全支持 16，32 位的 unicode 编码，utf 编码能够把 unicode 编码转化成 os 支持的编码.

### 1.4 float 和 doble 类型
- float 4 字节 32 位 单精度浮点
- double 8 字节 64 位 双精度

## 2 引用类型

分为
- 类引用类型
- 接口引用类型
- 数组引用类型

类引用类型的变量引用这个类或者其子类的实例；

### 2.1 基本类型与引用类型的区别

1. 基本类型代表简单的数据类型，引用类型所引用的实例能够表示任意复杂的数据结构。
2. 引用类型还能操作这种数据结类型的行为。
3. jvm 处理时不一样，对于引用类型，它仅仅是一个指向堆区中某个实例的指针。

![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6orxjygvjj31040fajvw.jpg)

![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6orz2z0ptj312s07egqk.jpg)

### 2.2 用 new 关键字创建对象
当一个引用类型的变量被声明后，如果没初始化，不会指向任何对象。

new 创建对象，作用如下：
- 为对象分配内存空间，将对象的实例变量自动初始化为其变量类型的默认值
- 如果实例变量在声明时被显示初始化,那就把初始化
- 调用构造方法
- 返回对象的引用

![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6os4jlig9j30zw0caah5.jpg)


## 3 变量的作用域

- 成员变量
- 局部变量
- 方法参数
- 异常处理参数

### 3.1 实例变量和静态变量的生命周期
 
 类变量或静态变量： static修饰
 
 - 类的静态变量在内存中只有一个，位于方法区，被类的所有实例共享。
 - 每次创建一个类的实例，java 虚拟机就会为实例变量分配一次内存，实例变量位于堆区中。

 静态变量可以作为所有实例的共享数据，不依赖特定的实例。实例变量属于特定的实例
 ![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6ov65yflnj312k0hyn2i.jpg)
 
### 3.2 局部变量的生命周期

 静态变量的生命周期取决于类何时被加载，实例变量生命周期取决于实例何时被创建和销毁。
 
 局部变量生命周期取决于，方法何时被调用及结束调用。
 
 限制：
 - 局部变量不能被 static，private protected 和 public 修饰
 - 不同通过类名或引用变量名来访问局部变量

**在一个方法内，可以定义和成员变量同名的局部变量或参数，此时成员变量被屏蔽，如果要访问实例变量，可以通过 this 关键字来访问，this 为当前实例的引用**

## 4 对象的默认引用： this

当一个对象创建后，jvm 就会给它分配一个引用自身的指针` this`。

在程序中，在一下情况下会使用 this 关键字：
- 在类的构造方法中，通过 this 语句调用 这个类的另一个构造方法
- **在实例方法内，局部变量或参数和实例变量同名，实例变量被屏蔽，因此采用 this.owner 的方式来指代实例变量。**
- 在一个实例方法中，访问当前实例的引用。 owner.setDog(this)

## 5 参数传递

![](https://tva1.sinaimg.cn/large/006y8mN6ly1g6ow96flvhj310b0u0b29.jpg)

## 6. 变量的初始化及默认值
变量先定义 --  初始化--使用。


类成员变量，java 会自动初始化，但是对于局部变量必须显示初始化，才能使用它。


