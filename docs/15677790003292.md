# 第 8 章 接口

一个类只能有一个直接父类，但是可以有多个接口，采用这种方式，java 对多继承提供了有力的支持。

接口相关的 5 中设计模式：
- 定制服务模式： 设计精粒度的接口，每个接口代表相关的一组服务，通过继承来创建符合接口
- 适配器模式： 当二个系统之间接口不匹配时，用适配器来转换接口
- 默认适配器模式 ：为接口提供简单的默认的实现
- 代理模式 ：为接口的实现类创建代理类，使用者通过代理类来获得实现类的服务
- 标识类型模式：用接口来标识一种没有任何行为的抽象类
- 常量接口模式：在接口中定义静态常量，在其他类中通过 import static  语句引入这些常量。





## 1 接口的概念和基本特征

接口类和抽象类表面上有些相似，接口类和抽象类都不能被实例化。


接口对成员变量和方法做了许多限制，特征如下：
- 接口中的成员变量默认都是 public,static,final 类型， 必须被显示初始化，并且只能包含上述类型的成员变量。
- 接口中的方法默认都是 public,abstarct 类型的
- jdk8 之前，接口只能包含抽象方法，jdk8 开始，允许在接口中定义默认方法和静态方法。默认方法用 default 关键字来声明，拥有默认实现
    - 接口中的静态方法只能在接口内部被访问，或者其他程序通过接口的名字来访问它的静态方法。如果通过实现接口的类的实例来访问该静态方法，会导致编译错误。
- 接口没有构造方法，不能被实例化
- 一个接口不能实现另一个接口，但它可以继承多个其他接口。
- 与子类继承抽象父类相似，必须实现接口中所有的抽象方法，否则这个类必须被定义为抽象类
- **不允许创建接口的实例，但允许定义接口类型的引用变量，该变量引用实现了这个接口的类的实例**
- 一个类只能继承一个父类，但是可以实现多个接口

## 2 比较抽象类与接口

**相同点：**
- 代表系统的抽象层
- 不能被实例化
- 都能包含抽象方法
- jdk8 开始，都可为部分方法提供默认的实现

**二大区别：**
- 接口中的成员只能是 public static final ，抽象类可以定义各种类型的实例变量和静态变量，它可包含所有子类共同的成员变量
- 一个类只能继承一个父类，这个父类可能是抽象类；一个类可以实现多个接口



### 2.1 接口和抽象类的总的原则 

1. 用抽象类来定制系统中的扩展点，可以把抽象类看做是介于 抽象 和是实现 之间的半成品，抽象类力所能及地完成部分实现，但是还有一些功能有待于他的子类去实现
![](http://ww3.sinaimg.cn/large/006y8mN6ly1g6q7cd4l41j30ni0g8tfj.jpg)

## 3 与接口相关的设计模式

### 3.1 定制服务模式
使用一个复合接口来实现几个接口。

### 3.2 适配器模式
当二个系统之间的接口不匹配时，就需要用适配器来把一个系统的接口转换成另一个系统匹配的接口。

适配器有二种实现方式。

**1. 继承实现方式**
![](http://ww4.sinaimg.cn/large/006y8mN6ly1g6q7w3csygj30mz0ikai8.jpg)
**2. 组合实现方式**