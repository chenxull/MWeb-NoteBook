# 编程的本质

任何算法都有二部分
- 一是logic部分，用来解决实际问题
- 二是control部分，用来决定用什么样的策略来解决问题
logic部分是真正意义上的解决问题的算法，而control部分只是影响解决这个问题的效率。程序运行的效率问题和程序的逻辑其实是没有关系的。**如果将logic和control部分有效的分开，那么代码就会变得很容易改进和维护**


## 编程的本质
- Programs = Algorithms + Data Structures
- Algorithm = Logic + Control

第一个表达式倾向于数据结构和算法，早期认为，如果数据结构设计的好，算法也会变得简单，而且一个好的通用的算法应该可以用在不同的数据结构上。

第二表达式表达的是数据结构不复杂，复杂的是算法，也就是我们业务逻辑是复杂的。我们的算法由二个逻辑组成，一个是真正的业务逻辑，另一个是控制逻辑。程序中有二种代码，一种是正真的业务逻辑代码，另一种代码是控制我们程序的代码，叫控制代码。

控制部分用来描述如何使用逻辑。最粗略的看法可以认为“控制”是解决问题的策略，而不会改变算法的意义，因为算法的意义是由逻辑决定的。对同一个逻辑，使用不同控制，所得到的算法，本质是等价的，因为它们解决同样的问题，并得到同样的结果。

我们可以通过逻辑分析，提高算法的效率，保持它的逻辑，而更好的使用这一逻辑。

Program = Logic + Control + Data Structure
之前学的各种编程范式，就是为了解决如下几件事：
- control是可以标准化的，如：遍历数据，查找数据，多线程，并发，异步都是可以标准化的
- 因为control需要处理数据，所以标准化control需要标准化data structure，我们可以通过泛型编程来解决这件事情
- 而control还需要处理用户的业务逻辑，即logic。所以我们可以通过标准化接口/协议来实现，我们的control模式可以适配于任何的logic

**在日后写程序的时候，有效的分离logic，control和data是写出好程序的关键所在**

### 小结

代码复杂的原因：

- 业务逻辑的复杂度决定了代码的复杂度
- 控制逻辑的复杂度+业务逻辑的复杂度==》程序代码的混乱不堪
- 大部分程序的复杂混乱的原因：业务逻辑和控制逻辑的耦合

如何分离 control 和 logic 呢？我们可以使用下面的这些技术来解耦。

- State Machine
    - 状态定义
    - 状态变迁条件
    - 状态的 action

- DSL – Domain Specific Language
    - HTML，SQL，Unix Shell Script，AWK，正则表达式……

- 编程范式
    - 面向对象：委托、策略、桥接、修饰、IoC/DIP、MVC……
    - 函数式编程：修饰、管道、拼装
    - 逻辑推导式编程：Prolog

这就是编程的本质：
- Logic 部分才是真正有意义的（What）
- Control 部分只是影响 Logic 部分的效率（How）
